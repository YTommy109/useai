# 5. CSS設計手法として FLOCSS (軽量版) を採用

日付: 2025-11-30

## ステータス

承認済み (Accepted)

## コンテキスト

プロジェクトの初期段階では、CSS は `style.css` 1ファイルにまとめて記述されており、命名規則や構造が明確に定義されていませんでした。
機能追加に伴い、以下の問題が顕在化しつつありました：

1. **構造の混在**: グローバル設定、コンポーネント、ページ固有のスタイルが混在しており、可読性が低い。
2. **命名規則の欠如**: クラス名からその役割やスコープ（再利用可能か、ページ固有か）を判断できない。
3. **拡張性の懸念**: 将来的にスタイルが増えた際、競合や詳細度の問題が発生しやすい。

一方で、現在の CSS の規模はまだ小さく (約100行未満)、SCSS (Sass) の導入によるビルドプロセスの複雑化や学習コストの増加は、現時点では過剰設計となる懸念がありました。

## 決定

CSS 設計手法として **FLOCSS (Foundation, Layout, Object)** の命名規則を採用します。
ただし、SCSS は導入せず、標準の CSS のまま運用する「軽量版」とします。

具体的なルールは以下の通りです：

1. **レイヤー構造**:
    - **Foundation**: リセットCSS、基本スタイル、CSS変数 (`:root`)
    - **Layout**: ヘッダー、フッター、サイドバーなどの大枠のレイアウト（現状はPico CSSに依存しているため、明示的な定義は少ない）
    - **Object**:
        - **Component (`c-*`)**: 再利用可能なUI部品 (例: `.c-btn`, `.c-card`)
        - **Project (`p-*`)**: 特定のページやコンテンツ固有のスタイル (例: `.p-admin-dashboard`)
        - **Utility (`u-*`)**: 調整用の単一機能クラス (例: `.u-mt-10`, `.u-text-center`)

2. **プレフィックス**:
    - 各レイヤーに属するクラスには、対応するプレフィックス (`c-`, `p-`, `u-`) を付与し、役割を明確にします。

3. **ファイル構成**:
    - 現状は `static/css/style.css` 1ファイルで管理しますが、ファイル内でコメントを用いてレイヤーを区切ります。
    - 将来的にファイルサイズが肥大化した場合は、SCSS の導入やファイルの分割を検討します。

## 結果

### メリット

- **保守性の向上**: クラス名を見るだけで、そのスタイルがどこで使われるべきか、変更した場合の影響範囲が予測しやすくなります。
- **一貫性**: 開発チーム内で共通の言語とルールを持ってスタイリングを行えます。
- **低コストな導入**: ビルドツールを追加することなく、命名規則の変更のみで導入できるため、開発環境への影響が最小限です。
- **将来への布石**: 将来的に SCSS へ移行する場合も、すでに FLOCSS の概念で整理されているため、スムーズに移行できます。

### デメリット

- **クラス名の冗長化**: プレフィックスを付けるため、クラス名が若干長くなります。
- **手動管理の限界**: ファイル分割をしていないため、行数が増えると `style.css` の見通しが悪くなる可能性があります（その時点で SCSS 移行を検討）。
