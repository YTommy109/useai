# 0003 – Adopt SQLModel

- ステータス: 承認
- 日付: 2025-11-21

## 背景

現在のプロジェクトではデータベース操作に SQLAlchemy を直接使用しています。しかし、開発者より「モデル定義に Pydantic を使用したい」という強い意向が示されました。
SQLAlchemy のモデルと Pydantic のスキーマを二重管理するのは冗長であり、FastAPI との親和性も考慮する必要があります。

## 決定

**SQLModel** を採用します。

SQLModel は SQLAlchemy と Pydantic を統合したライブラリであり、以下の特徴があります：
1.  データベースモデル自体が Pydantic モデルとして振る舞います。
2.  SQLAlchemy の強力な機能を内部で使用しつつ、記述を簡素化できます。
3.  FastAPI の作者によって開発されており、FastAPI との統合がスムーズです。

## 影響

- **ポジティブな影響**
    - モデル定義とバリデーションスキーマの統一（DRY原則）。
    - コード記述量の削減と可読性の向上。
    - エディタの補完機能（型ヒント）の恩恵を最大限に受けられる。

- **ネガティブな影響**
    - 既存の SQLAlchemy モデルからの移行作業が必要（ただし、規模は小さい）。
    - 新たな依存ライブラリ (sqlmodel) の追加。
