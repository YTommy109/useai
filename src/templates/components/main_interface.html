<form hx-post="/generate_document" hx-trigger="change delay:300ms" hx-target="#main-interface" hx-swap="innerHTML"
    hx-indicator="#loading-indicator">
    <!-- 入力エリア -->
    <div class="grid">
        <!-- 国選択 -->
        <div>
            <h2>
                国を選択
                <span id="loading-indicator" aria-busy="true" class="htmx-indicator"></span>
            </h2>
            <div class="c-scrollable-list">
                {% include "components/country_selector.html" %}
            </div>
        </div>
        <!-- 法規選択 -->
        <div>
            <h2>法規を選択</h2>
            <div class="c-scrollable-list">
                {% include "components/regulation_selector.html" %}
            </div>
        </div>
    </div>

    <hr>

    <!-- 出力エリア -->
    <div>
        <h2>選択結果</h2>
        <div id="document-preview">
            <div class="accordion-item">
                <input type="checkbox" id="accordion-prompt-debug" name="open_accordions" value="prompt-debug"
                    class="c-accordion-toggle" {% if 'prompt-debug' in open_accordions %}checked{% endif %}>
                <label for="accordion-prompt-debug" class="c-accordion-header">プロンプト詳細（デバッグ用）</label>
                <div class="c-accordion-content">
                    {% include "components/prompt_debug.html" %}
                </div>
            </div>
        </div>

        {% include "components/execute_button.html" %}
    </div>
</form>